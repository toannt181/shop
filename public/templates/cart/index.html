<section class="bgf6f6f6">
	<div class="wrapper">
		<div class="container cart">
			<div class="cart-title pt10">
				<div class="fw left pt10">Giỏ hàng của tôi</div>
				<div class="right text-right">
					<div class="step step3 right active">Hoàn thành</div>
					<div class="step step2 right">Thanh toán</div>
					<div class="step step1 right">Xác nhận đơn hàng</div>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="address bgffffff">
				<div class="left">
					<div class="pb10">ĐỊA CHỈ GIAO HÀNG</div>
					<div class="">Họ tên: <span>Đàm Văn</span></div>
					<div class="">Địa chỉ: <span>444 Hoàng Hoa Thán</span></div>
					<div class="">Điện thoại: <span>04879892178</span></div>
				</div>
				<div class="right text-right">
					<a id="open-form-add-address">Thêm địa chỉ mới</a>
				</div>
				<div class="clearfix"></div>
			</div>
			
			<div class="add-address">
				<div class="left w50">&nbsp</div>
				<div class="right w50">
					<div class="left">THÊM ĐỊA CHỈ MỚI</div>
					<div class="right"><img id="close-form-add-address" src="/assets/images/icon_close_address.png"/></div>
				</div>
				<div class="clearfix"></div>
				<div class="left w50">
					<form class="form-address mr10">
						<div class="">Họ tên: <input type="text" /></div>
						<div class="">Điện thoại: <input type="text" /></div>
						<div class="">Địa chỉ: <textarea rows="5"></textarea></div>
						<div class="">Quận huyện: <select></select></div>
						<div class="">Tỉnh thành phố: <select></select></div>
					</form>
				</div>
				<div class="left w50">
					<div class="address-exist ml10">
						<div>Địa chỉ đã có:</div>
						<div class="address-select">Tầng 7 Số 444 Hoàng Hoa Thám</div>
						<div class="address-list">
							<div>Tầng 7 Số 444 Hoàng Hoa Thám</div>
							<div>Tầng 11 Số 444 Hoàng Hoa Thám</div>
							<div>Tòa Machinco Số 444 Hoàng Hoa Thám</div>
						</div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
			
			<div class="product mt10 bgffffff">
				<div class="pb10">ĐƠN HÀNG</div>
				<div class="fw pl10 pr10">
					<div class="pl10 pr10 pb10">
						<div class="left w10">Sản phẩm</div>
						<div class="left w60"> &nbsp </div>
						<div class="left w10 text-center">Giá</div>
						<div class="left w10 text-center">Số lượng</div>
						<div class="left w10 text-center">Tổng giá</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
				<div class="border-detail">
					<div class="product-detail" ng-repeat="cartDetail in ctrl.cart" ng-if="cartDetail.quantity > 0">
						<div class="left img w10"><img ng-src="{{cartDetail.image}}"></div>
						<div class="left name w60"><div class="pl10"> {{cartDetail.name}}</div></div>
						<div class="left price w10" ng-if="cartDetail.product_quantity > 0"><span>{{cartDetail.price | currency: "": 0 }}</span><span>đ</span></div>
						<div class="left quantity w10 text-center">
							<div class="form">
								<span class="subtraction" ng-click="ctrl.removeCart(cartDetail.id)">-</span>
								<span class="text">{{cartDetail.quantity}}</span>
								<span class="addition" ng-click="ctrl.addCart(cartDetail.id)">+</span>
							</div>
							<div class="remove-cart text-center" ng-click="ctrl.removeItemCart(cartDetail.id);" data-toggle="modal" data-target="#confirm-delete">Xóa sản phẩm</div>
						</div>
						<div class="left total w10 text-right">{{cartDetail.price*cartDetail.quantity | currency: "": 0 }}</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
				<div class="coupons">
					<div class="left w50"><span>Xóa giỏ hàng</span></div>
					<div class="left w50">
						<form class="from-coupons right">
							<input ng-disabled="ctrl.voucherAmount > 0 || ctrl.isEditMode" type="text"
                                       placeholder="Nhập mã giảm giá"
                                       ng-model="ctrl.voucherCode" ng-focus="ctrl.inputVoucher()"
                                       ng-blur="ctrl.updateVoucher()" enter-click="ctrl.updateVoucher()"
                                       aria-describedby="basic-addon1"/>
                                <span class="coupon-status-ok" ng-if="ctrl.voucherAmount > 0" >
                                    <a ng-click="ctrl.removeVoucher()"><img src="assets/images/coupon_status_wrong.png"></a>
                                </span>
							<button>Nhập</button>
						</form>
						<div class="pr10 pt5 right">MÃ GIẢM GIÁ TỪ VNSHOP</div>
						<div class="coupon-status-wrong" ng-if="ctrl.voucherMessage">
                        {{ctrl.voucherMessage}}
                    </div>
					</div>
					<div class="clearfix"></div>
				</div>
				<div class="confirm-order">
					<div class="left w50">
						<div>Chú thích đơn hàng</div>
						<textarea rows="10"></textarea>
					</div>
					<div class="left w50">
						<div class="pl10 text-right">
							<div class="pt5">
								<span>Giá tạm tính (3 sản phẩm): </span>
								<span><b>24.000.000 VND</b></span>
							</div>
							<div class="pt5">
								<span>Được giảm: </span>
								<span><b>-{{ctrl.voucherAmount| currency: "": 0: "." }}</b></span>
							</div>
							<div class="pt5">
								<span>Phí ship: </span>
								<span><b>4.000.000 VND</b></span>
							</div>
							<div class="pt5">
								<span>Giá tổng: </span>
								<span class="total"><b>{{ctrl.total| currency: "": 0: "." }}</b></span>
							</div>
							<div class="btn-confirm-pay">
								<span ng-click="ctrl.goToConfirm(1)">Xác nhận thanh toán</span>
							</div>
						</div>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
</section>	
<div id="confirm-delete" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content" style="margin-top:180px;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Thông báo</h4>
            </div>
            <div class="contmid">Quý khách có chắc chắn xóa sản phẩm này không?</div>

            <div class="modal-footer">
                <button type="button" class="btleft bt" data-dismiss="modal">Huỷ</button>
                <button type="button" class="btright bt" ng-click="ctrl.submitRemove()">Đồng ý</button>
            </div>
        </div>
    </div>
</div>
<div id="popupAlert" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content" style="margin-top:180px;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Thông báo</h4>
            </div>
            <div class="contmid" style="text-align: center">
                {{ctrl.popMessage}}
            </div>
            <div class="modal-footer">
                <button type="button" class="btcenter bt" data-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>